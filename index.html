<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./CSS/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body onload="JobApplicationModule.fetchApplications()">

  <div class="container">
    <h1 class="text-center fs-larger">Job Application Tracker</h1>
    <div class="flex statuses justify-content-evenly">
      <div class="card">
        <div class="text-center">
          <span id="totalApplications"></span>
        </div>
        <div class="text-center">
          Applications <i class="fa-solid fa-envelope"></i>
        </div>
      </div>
      <div class="card">
        <div class="text-center">
          <span id="hiredCount"></span>
        </div>
        <div class="text-center">
          Hired <i class="fa-solid fa-circle-check" style="color: #37ff00;"></i>
        </div>
      </div>
      <div class="card">
        <div class="text-center">
          <span id="appliedCount"></span>
        </div>
        <div class="text-center">
          Applied <i class="fa-solid fa-arrow-right-to-bracket"></i>
        </div>
      </div>
      <div class="card">
        <div class="text-center">
          <span id="interviewingCount"></span>
        </div>
        <div class="text-center">
          Interviewing <i class="fa-solid fa-chalkboard-user"></i>
        </div>
      </div>
      <div class="card">
        <div class="text-center">
          <span id="rejectedCount"></span>
        </div>
        <div class="text-center">
          Rejected <i class="fa-solid fa-circle-xmark" style="color: #ff0000;"></i>
        </div>
      </div>
    </div>
    <div class="grid halfs gap-2">
      <div class="left">
        <div class="form bg-light">
          <h2 class="text-center" id="form-heading"><u>Job Application Form</u></h2>
          <div class="flex justify-center">
            <form onsubmit="JobApplicationModule.addApplication(event)">
              <input type="hidden" name="applicationId" id="applicationId">
              <div class="input">
                <label for="applicantName">Applicant Name<span class="text-danger">*</span></label>
                <input type="text" name="applicantName" id="applicantName">
                <span class="applicantNameError text-danger hidden">-Applicant name required</span>
              </div>
              <div class="input">
                <label for="companyName">Company Name<span class="text-danger">*</span></label>
                <input type="text" name="companyName" id="companyName">
                <span class="nameError text-danger hidden">-Company name required</span>
              </div>
              <div class="input">
                <label for="jobRole">Job Role<span class="text-danger">*</span></label>
                <input type="text" name="jobRole" id="jobRole" autocomplete="off">
                <ul id="autocompleteRoles" class="autocomplete-roles hidden"></ul>
                <span class="roleError text-danger hidden">-Job role required</span>
              </div>
              <div class="input">
                <label for="labelJobType">Job Type<span class="text-danger">*</span></label>
                <select name="jobType" id="jobType" onchange="isRemoteSelected()">
                  <option value="onsite">On-Site</option>
                  <option value="remote">Remote</option>
                  <option value="hybrid">Hybrid</option>
                </select>
                <span class="jobtypeError text-danger hidden">-Job type required</span>
              </div>
              <div class="input" id="location">
                <label for="location">Location<span class="text-danger">*</span></label>
                <input type="text" name="location" id="locationInput">
                <span class="locationError text-danger hidden">-Location required</span>
              </div>
              <div class="input">
                <label for="applicationDate">Application Date<span class="text-danger">*</span></label>
                <input type="date" name="applicationDate" id="applicationDate">
                <span class="applicationdateError text-danger hidden">-Application date required</span>
              </div>
              <div class="input">
                <label for="jobStatus">Application Status<span class="text-danger">*</span></label>
                <select name="jobStatus" id="jobStatus">
                  <option value="applied"> Applied</option>
                  <option value="interviewing"> Interviewing </option>
                  <option value="rejected"> Rejected </option>
                  <option value="hired"> Hired </option>
                </select>
                <span class="statusError text-danger hidden">-Application status required</span>
              </div>
              <div class="input">
                <label for="notes">Notes:</label>
                <input type="text" name="notes" id="notes">
              </div>
              <div class="buttons flex justify-center">
                <div class="submit" id="submit">
                  <input type="submit" value="Submit" id="submit-btn">
                </div>
                <div class="update hidden" id="update">
                  <input type="button" value="Update" id="update-btn"
                    onclick="JobApplicationModule.updateApplication()">
                  <input type="button" value="Cancel" onclick="JobApplicationModule.refresh()">
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="right">
        <h2 class="text-center right-heading">Job Applications</h2>
        <div class="toogle-btn">
          <input type="button" value="Row" onclick="JobApplicationModule.toggleView('row')" id="row-btn">
          <input type="button" value="Grid" onclick="JobApplicationModule.toggleView('grid')" id="grid-btn"
            class="active-btn">
        </div>


        <ul id="applicationTable">
          <!-- <li class="application-card">
            <div class="application-card-header flex">
              <div class="application-card-header-left">
                <div class="application-card-status">
                  <span>${application.jobStatus}</span>
                </div>
                <div class="application-card-role">
                  <b>${application.jobRole}</b>
                </div>
              </div>
              <div class="application-card-header-right">
                <div class="actions flex">
                  <div class="application-card-date">
                    Applied On ${application.applicationDate}
                  </div>
                  <a class="edit" href="#form-heading" onclick="editApplication('${application.id}')"><i
                      class="fa-solid fa-pen"></i> Edit</a>

                  <a class="delete" onclick="deleteApplication('${application.id}')"><i class="fa-solid fa-trash"></i>
                    Delete</a>
                </div>
              </div>
            </div>
            <div class="application-card-body">
              <div class="application-card-name">
                ${application.companyName}
              </div>
              <div class="application-card-location">
                <i class="fa-solid fa-house"></i> Bhubaneswar
              </div>
            </div>
          </li> -->
        </ul>
      </div>
    </div>
  </div>
  <script src="./JS/index.js"></script>
</body>

</html>